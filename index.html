<!DOCTYPE html>
<html>
	<head>
		<title>Derivative Calculator</title>
		<link rel="stylesheet" type="text/css" href="deriv.css">
		<!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	</head>
	<body>
	<!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>
		
		<!--Makes sure the input box is in the top middle of the screen-->
		<div class="row">
			<form class="col s12">
				<div class="row">
        <div class="input-field col s6">
		<!--Initialez the input field-->
          <input placeholder="Enter your function here (e.g. 1sin(1x) or 3cos(3x+45)+6 )" id="first_name" type="text" class="validate">
          <label for="first_name">Derivative Calculator</label>
        </div>
      </div>
			</form>
		</div>
		<button class="waves-effect waves-light btn" id="numButton" onclick="myFunction()">Try it</button>
		<script> 
			//var input = prompt('Insert any number'); // Receives a user-inputted number
			var input;    //This variable is for the function inputted
			var output;   //This variable is for the derivative that will be outputted
			var aValue;   //This variable is for the a value of the function
			var newAValue;//This variable is for the a value of the derivative
			var type;     //This variable is for the type of sinusoidal function
			var kValue;   //This variable is for the k value of the function
			var body;     //This variable is for the original body of the function eg. (2x-45)
			var newBody;  //This variable is for the body of the derivative
			function findDerivative(){
				document.write("<center><span style=\"font-size: 20; text-align:center; color: #26A69A;\">" + "Initial Function: " , input , "<br>" + "<\/span></center>");	// print initial number
				aValue = input.charAt(0); //This stores the first value of the Derivative inputted which is the a value
				type = input.substring(1,4); //This stores the type of sinusoidal function 
				kValue = input.charAt(5); //This stores the k value of the function
				body = input.substring(input.indexOf("("),input.indexOf(")")+1); //This stores the body of the function
				newAValue = aValue * kValue; //This computes the a value of the derivative
				
				//This makes the value of the derivative negative since the cos, cot, and csc functions have negative derivatives
				if(type == "cos" || type == "cot" || type == "csc"){
					newAValue = newAValue * -1;
				}
				
				//These if states commpute the derivative based on the type of sinusoidal the function was and using its body
				if(type == "sin"){
					newBody = "cos" + body;
				}
				else if(type == "cos"){
					newBody = "sin" + body;
				}
				else if(type == "tan"){
					newBody = "sec^2" + body;
				}
				else if(type == "cot"){
					newBody = "csc^2" + body;
				}
				else if(type == "sec"){
					newBody = "sec" + body + "tan" + body;
				}
				else if(type == "csc"){
					newBody = "csc" + body + "cot" + body;
				}
				output = newAValue + newBody; //This adds the new a value to the derivative
				document.write("<center><span style=\"font-size: 20; text-align:center; color: #26A69A;\">" + "Derivative: "+ output + "<\/span></center>"); //This outputs the derivative to the screen
				document.body.style.backgroundImage = "url('https://www.xmple.com/wallpaper/graph-paper-grey-white-grid-1920x1080-c2-ffffff-d3d3d3-l2-6-252-a-15-f-20.svg')"; //This sets the background of the final screen

			}
			
			//This function runs once the user presses enter and triggers the function that computes the derivative
			function myFunction() {
				input = document.getElementById("first_name").value;
				findDerivative();
			}
			
		</script>
	</body>
</html>
